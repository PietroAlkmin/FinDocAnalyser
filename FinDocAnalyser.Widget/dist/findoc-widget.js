!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FinDocWidget=e():n.FinDocWidget=e()}(this,()=>(()=>{"use strict";var n={56:(n,e,r)=>{n.exports=function(n){var e=r.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function r(n){for(var r=-1,t=0;t<e.length;t++)if(e[t].identifier===n){r=t;break}return r}function t(n,t){for(var i={},o=[],s=0;s<n.length;s++){var d=n[s],l=t.base?d[0]+t.base:d[0],A=i[l]||0,c="".concat(l," ").concat(A);i[l]=A+1;var p=r(c),f={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var u=a(f,t);t.byIndex=s,e.splice(s,0,{identifier:c,updater:u,references:1})}o.push(c)}return o}function a(n,e){var r=e.domAPI(e);return r.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;r.update(n=e)}else r.remove()}}n.exports=function(n,a){var i=t(n=n||[],a=a||{});return function(n){n=n||[];for(var o=0;o<i.length;o++){var s=r(i[o]);e[s].references--}for(var d=t(n,a),l=0;l<i.length;l++){var A=r(i[l]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}i=d}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var r="",t=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),t&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=n(e),t&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r}).join("")},e.i=function(n,r,t,a,i){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(t)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var l=0;l<n.length;l++){var A=[].concat(n[l]);t&&o[A[0]]||(void 0!==i&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=i),r&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=r):A[2]=r),a&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=a):A[4]="".concat(a)),e.push(A))}},e}},354:n=>{n.exports=function(n){var e=n[1],r=n[3];if(!r)return e;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),i="/*# ".concat(a," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},365:(n,e,r)=>{r.r(e),r.d(e,{default:()=>s});var t=r(354),a=r.n(t),i=r(314),o=r.n(i)()(a());o.push([n.id,".findoc-widget {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 24px;\n    background: #ffffff;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.findoc-header {\n    text-align: center;\n    margin-bottom: 24px;\n}\n\n.findoc-icon {\n    display: inline-block;\n    color: #3b82f6;\n    margin-bottom: 16px;\n}\n\n.findoc-header h2 {\n    margin: 0 0 8px 0;\n    font-size: 24px;\n    font-weight: 600;\n    color: #1f2937;\n}\n\n.findoc-header p {\n    margin: 0;\n    color: #6b7280;\n    font-size: 14px;\n}\n\n.findoc-upload-area {\n    border: 2px dashed #d1d5db;\n    border-radius: 8px;\n    padding: 40px 20px;\n    text-align: center;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    margin-bottom: 20px;\n    background: #f9fafb;\n}\n\n    .findoc-upload-area:hover {\n        border-color: #3b82f6;\n        background: #eff6ff;\n    }\n\n    .findoc-upload-area.dragover {\n        border-color: #3b82f6;\n        background: #dbeafe;\n        transform: scale(1.02);\n    }\n\n.upload-label {\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 12px;\n}\n\n.upload-icon {\n    font-size: 48px;\n    opacity: 0.6;\n}\n\n.upload-text {\n    text-align: center;\n}\n\n    .upload-text p {\n        margin: 0 0 4px 0;\n        font-size: 16px;\n    }\n\n    .upload-text strong {\n        color: #1f2937;\n        font-weight: 600;\n    }\n\n    .upload-text small {\n        color: #9ca3af;\n        font-size: 12px;\n    }\n\n.findoc-files-list {\n    margin-bottom: 20px;\n}\n\n    .findoc-files-list h3 {\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0 0 12px 0;\n        color: #1f2937;\n    }\n\n#files-container {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.file-item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 12px;\n    background: #f9fafb;\n    border-radius: 6px;\n    border: 1px solid #e5e7eb;\n}\n\n.file-info {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex: 1;\n    min-width: 0;\n}\n\n.file-icon {\n    font-size: 20px;\n    flex-shrink: 0;\n}\n\n.file-name {\n    font-size: 14px;\n    color: #1f2937;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.file-status {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-shrink: 0;\n}\n\n.progress-bar {\n    width: 100px;\n    height: 6px;\n    background: #e5e7eb;\n    border-radius: 3px;\n    overflow: hidden;\n}\n\n.progress-fill {\n    height: 100%;\n    background: linear-gradient(90deg, #3b82f6, #2563eb);\n    transition: width 0.3s ease;\n    border-radius: 3px;\n}\n\n.status-icon {\n    font-size: 18px;\n}\n\n.status-text {\n    font-size: 13px;\n    color: #6b7280;\n    white-space: nowrap;\n}\n\n.findoc-actions {\n    display: flex;\n    gap: 12px;\n    justify-content: flex-end;\n}\n\n.btn-primary,\n.btn-secondary {\n    padding: 10px 20px;\n    border-radius: 6px;\n    font-size: 14px;\n    font-weight: 500;\n    cursor: pointer;\n    border: none;\n    transition: all 0.2s ease;\n    font-family: inherit;\n}\n\n.btn-primary {\n    background: #3b82f6;\n    color: white;\n}\n\n    .btn-primary:hover:not(:disabled) {\n        background: #2563eb;\n        transform: translateY(-1px);\n        box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);\n    }\n\n    .btn-primary:active:not(:disabled) {\n        transform: translateY(0);\n    }\n\n    .btn-primary:disabled {\n        background: #d1d5db;\n        cursor: not-allowed;\n        opacity: 0.6;\n    }\n\n.btn-secondary {\n    background: #f3f4f6;\n    color: #374151;\n    border: 1px solid #e5e7eb;\n}\n\n    .btn-secondary:hover {\n        background: #e5e7eb;\n    }\n\n    .btn-secondary:active {\n        background: #d1d5db;\n    }\n\n@keyframes slideIn {\n    from {\n        opacity: 0;\n        transform: translateY(-10px);\n    }\n\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.file-item {\n    animation: slideIn 0.3s ease;\n}\n\n@media (max-width: 640px) {\n    .findoc-widget {\n        padding: 16px;\n    }\n\n    .findoc-header h2 {\n        font-size: 20px;\n    }\n\n    .findoc-upload-area {\n        padding: 30px 15px;\n    }\n\n    .progress-bar {\n        width: 60px;\n    }\n\n    .findoc-actions {\n        flex-direction: column;\n    }\n\n    .btn-primary,\n    .btn-secondary {\n        width: 100%;\n    }\n}\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;IACI,uGAAuG;IACvG,gBAAgB;IAChB,cAAc;IACd,aAAa;IACb,mBAAmB;IACnB,mBAAmB;IACnB,iFAAiF;AACrF;;AAEA;IACI,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;IACrB,cAAc;IACd,mBAAmB;AACvB;;AAEA;IACI,iBAAiB;IACjB,eAAe;IACf,gBAAgB;IAChB,cAAc;AAClB;;AAEA;IACI,SAAS;IACT,cAAc;IACd,eAAe;AACnB;;AAEA;IACI,0BAA0B;IAC1B,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,yBAAyB;IACzB,mBAAmB;IACnB,mBAAmB;AACvB;;IAEI;QACI,qBAAqB;QACrB,mBAAmB;IACvB;;IAEA;QACI,qBAAqB;QACrB,mBAAmB;QACnB,sBAAsB;IAC1B;;AAEJ;IACI,eAAe;IACf,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,SAAS;AACb;;AAEA;IACI,eAAe;IACf,YAAY;AAChB;;AAEA;IACI,kBAAkB;AACtB;;IAEI;QACI,iBAAiB;QACjB,eAAe;IACnB;;IAEA;QACI,cAAc;QACd,gBAAgB;IACpB;;IAEA;QACI,cAAc;QACd,eAAe;IACnB;;AAEJ;IACI,mBAAmB;AACvB;;IAEI;QACI,eAAe;QACf,gBAAgB;QAChB,kBAAkB;QAClB,cAAc;IAClB;;AAEJ;IACI,aAAa;IACb,sBAAsB;IACtB,QAAQ;AACZ;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,8BAA8B;IAC9B,aAAa;IACb,mBAAmB;IACnB,kBAAkB;IAClB,yBAAyB;AAC7B;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,QAAQ;IACR,OAAO;IACP,YAAY;AAChB;;AAEA;IACI,eAAe;IACf,cAAc;AAClB;;AAEA;IACI,eAAe;IACf,cAAc;IACd,mBAAmB;IACnB,gBAAgB;IAChB,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,QAAQ;IACR,cAAc;AAClB;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,mBAAmB;IACnB,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,YAAY;IACZ,oDAAoD;IACpD,2BAA2B;IAC3B,kBAAkB;AACtB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;IACf,cAAc;IACd,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,SAAS;IACT,yBAAyB;AAC7B;;AAEA;;IAEI,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,eAAe;IACf,YAAY;IACZ,yBAAyB;IACzB,oBAAoB;AACxB;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;IAEI;QACI,mBAAmB;QACnB,2BAA2B;QAC3B,kDAAkD;IACtD;;IAEA;QACI,wBAAwB;IAC5B;;IAEA;QACI,mBAAmB;QACnB,mBAAmB;QACnB,YAAY;IAChB;;AAEJ;IACI,mBAAmB;IACnB,cAAc;IACd,yBAAyB;AAC7B;;IAEI;QACI,mBAAmB;IACvB;;IAEA;QACI,mBAAmB;IACvB;;AAEJ;IACI;QACI,UAAU;QACV,4BAA4B;IAChC;;IAEA;QACI,UAAU;QACV,wBAAwB;IAC5B;AACJ;;AAEA;IACI,4BAA4B;AAChC;;AAEA;IACI;QACI,aAAa;IACjB;;IAEA;QACI,eAAe;IACnB;;IAEA;QACI,kBAAkB;IACtB;;IAEA;QACI,WAAW;IACf;;IAEA;QACI,sBAAsB;IAC1B;;IAEA;;QAEI,WAAW;IACf;AACJ",sourcesContent:[".findoc-widget {\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    padding: 24px;\r\n    background: #ffffff;\r\n    border-radius: 12px;\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n}\r\n\r\n.findoc-header {\r\n    text-align: center;\r\n    margin-bottom: 24px;\r\n}\r\n\r\n.findoc-icon {\r\n    display: inline-block;\r\n    color: #3b82f6;\r\n    margin-bottom: 16px;\r\n}\r\n\r\n.findoc-header h2 {\r\n    margin: 0 0 8px 0;\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: #1f2937;\r\n}\r\n\r\n.findoc-header p {\r\n    margin: 0;\r\n    color: #6b7280;\r\n    font-size: 14px;\r\n}\r\n\r\n.findoc-upload-area {\r\n    border: 2px dashed #d1d5db;\r\n    border-radius: 8px;\r\n    padding: 40px 20px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n    margin-bottom: 20px;\r\n    background: #f9fafb;\r\n}\r\n\r\n    .findoc-upload-area:hover {\r\n        border-color: #3b82f6;\r\n        background: #eff6ff;\r\n    }\r\n\r\n    .findoc-upload-area.dragover {\r\n        border-color: #3b82f6;\r\n        background: #dbeafe;\r\n        transform: scale(1.02);\r\n    }\r\n\r\n.upload-label {\r\n    cursor: pointer;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 12px;\r\n}\r\n\r\n.upload-icon {\r\n    font-size: 48px;\r\n    opacity: 0.6;\r\n}\r\n\r\n.upload-text {\r\n    text-align: center;\r\n}\r\n\r\n    .upload-text p {\r\n        margin: 0 0 4px 0;\r\n        font-size: 16px;\r\n    }\r\n\r\n    .upload-text strong {\r\n        color: #1f2937;\r\n        font-weight: 600;\r\n    }\r\n\r\n    .upload-text small {\r\n        color: #9ca3af;\r\n        font-size: 12px;\r\n    }\r\n\r\n.findoc-files-list {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n    .findoc-files-list h3 {\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        margin: 0 0 12px 0;\r\n        color: #1f2937;\r\n    }\r\n\r\n#files-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n}\r\n\r\n.file-item {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 12px;\r\n    background: #f9fafb;\r\n    border-radius: 6px;\r\n    border: 1px solid #e5e7eb;\r\n}\r\n\r\n.file-info {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    flex: 1;\r\n    min-width: 0;\r\n}\r\n\r\n.file-icon {\r\n    font-size: 20px;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.file-name {\r\n    font-size: 14px;\r\n    color: #1f2937;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.file-status {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.progress-bar {\r\n    width: 100px;\r\n    height: 6px;\r\n    background: #e5e7eb;\r\n    border-radius: 3px;\r\n    overflow: hidden;\r\n}\r\n\r\n.progress-fill {\r\n    height: 100%;\r\n    background: linear-gradient(90deg, #3b82f6, #2563eb);\r\n    transition: width 0.3s ease;\r\n    border-radius: 3px;\r\n}\r\n\r\n.status-icon {\r\n    font-size: 18px;\r\n}\r\n\r\n.status-text {\r\n    font-size: 13px;\r\n    color: #6b7280;\r\n    white-space: nowrap;\r\n}\r\n\r\n.findoc-actions {\r\n    display: flex;\r\n    gap: 12px;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.btn-primary,\r\n.btn-secondary {\r\n    padding: 10px 20px;\r\n    border-radius: 6px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    border: none;\r\n    transition: all 0.2s ease;\r\n    font-family: inherit;\r\n}\r\n\r\n.btn-primary {\r\n    background: #3b82f6;\r\n    color: white;\r\n}\r\n\r\n    .btn-primary:hover:not(:disabled) {\r\n        background: #2563eb;\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);\r\n    }\r\n\r\n    .btn-primary:active:not(:disabled) {\r\n        transform: translateY(0);\r\n    }\r\n\r\n    .btn-primary:disabled {\r\n        background: #d1d5db;\r\n        cursor: not-allowed;\r\n        opacity: 0.6;\r\n    }\r\n\r\n.btn-secondary {\r\n    background: #f3f4f6;\r\n    color: #374151;\r\n    border: 1px solid #e5e7eb;\r\n}\r\n\r\n    .btn-secondary:hover {\r\n        background: #e5e7eb;\r\n    }\r\n\r\n    .btn-secondary:active {\r\n        background: #d1d5db;\r\n    }\r\n\r\n@keyframes slideIn {\r\n    from {\r\n        opacity: 0;\r\n        transform: translateY(-10px);\r\n    }\r\n\r\n    to {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n}\r\n\r\n.file-item {\r\n    animation: slideIn 0.3s ease;\r\n}\r\n\r\n@media (max-width: 640px) {\r\n    .findoc-widget {\r\n        padding: 16px;\r\n    }\r\n\r\n    .findoc-header h2 {\r\n        font-size: 20px;\r\n    }\r\n\r\n    .findoc-upload-area {\r\n        padding: 30px 15px;\r\n    }\r\n\r\n    .progress-bar {\r\n        width: 60px;\r\n    }\r\n\r\n    .findoc-actions {\r\n        flex-direction: column;\r\n    }\r\n\r\n    .btn-primary,\r\n    .btn-secondary {\r\n        width: 100%;\r\n    }\r\n}\r\n"],sourceRoot:""}]);const s=o},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},659:n=>{var e={};n.exports=function(n,r){var t=function(n){if(void 0===e[n]){var r=document.querySelector(n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(n){r=null}e[n]=r}return e[n]}(n);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(r){!function(n,e,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,a&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(t,n,e.options)}(e,n,r)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function r(t){var a=e[t];if(void 0!==a)return a.exports;var i=e[t]={id:t,exports:{}};return n[t](i,i.exports,r),i.exports}r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.nc=void 0;var t={};r.r(t),r.d(t,{FinDocUploadWidget:()=>h,default:()=>B});class a{constructor(n){this.apiUrl=n}async uploadPDF(n,e){const r=new FormData;r.append("file",n),e&&r.append("clientId",e);const t=await fetch(`${this.apiUrl}/api/analysis`,{method:"POST",body:r});if(!t.ok){const n=await t.text();throw new Error(`Erro ao enviar PDF: ${n}`)}return(await t.json()).analysisId}async getAnalysisResult(n){const e=await fetch(`${this.apiUrl}/api/analysis/${n}/complete`);if(!e.ok){const n=await e.text();throw new Error(`Erro ao buscar resultado: ${n}`)}return await e.json()}async pollForResult(n,e=30,r=2e3){for(let t=0;t<e;t++)try{return await this.getAnalysisResult(n)}catch(n){if(t===e-1)throw n;await new Promise(n=>setTimeout(n,r))}throw new Error("Timeout aguardando resultado da an�lise")}}var i=r(72),o=r.n(i),s=r(825),d=r.n(s),l=r(659),A=r.n(l),c=r(56),p=r.n(c),f=r(540),u=r.n(f),m=r(113),b=r.n(m),g=r(365),x={};x.styleTagTransform=b(),x.setAttributes=p(),x.insert=A().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=u(),o()(g.default,x),g.default&&g.default.locals&&g.default.locals;class h extends HTMLElement{constructor(){super(),this.config=null,this.fileStatuses=new Map,this.apiClient=null,this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.attachEventListeners()}configure(n){this.config=n,this.apiClient=new a(n.apiUrl)}render(){this.shadow.innerHTML=`\n      <style>\n        ${this.getStyles()}\n      </style>\n      <div class="findoc-widget">\n        <div class="findoc-header">\n          <div class="findoc-icon">\n            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>\n              <polyline points="14 2 14 8 20 8"/>\n            </svg>\n          </div>\n          <h2>Importar Carteira de Investimentos</h2>\n          <p>Envie seus relatórios em PDF para análise automática</p>\n        </div>\n\n        <div class="findoc-upload-area" id="upload-area">\n          <input \n            type="file" \n            id="file-input" \n            accept=".pdf" \n            multiple \n            style="display: none"\n          />\n          <label for="file-input" class="upload-label">\n            <div class="upload-icon">📄</div>\n            <div class="upload-text">\n              <p><strong>Arraste PDFs aqui</strong> ou clique para selecionar</p>\n              <small>Formatos aceitos: XP, Rico, BTG, Inter, Nubank, Modal</small>\n            </div>\n          </label>\n        </div>\n\n        <div class="findoc-files-list" id="files-list" style="display: none">\n          <h3>Arquivos selecionados</h3>\n          <div id="files-container"></div>\n        </div>\n\n        <div class="findoc-actions">\n          <button id="cancel-btn" class="btn-secondary">Cancelar</button>\n          <button id="upload-btn" class="btn-primary" disabled>\n            Processar arquivos\n          </button>\n        </div>\n      </div>\n    `}getStyles(){return"\n      .findoc-widget {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n        max-width: 600px;\n        margin: 0 auto;\n        padding: 24px;\n        background: #ffffff;\n        border-radius: 12px;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n      }\n      .findoc-header {\n        text-align: center;\n        margin-bottom: 24px;\n      }\n      .findoc-icon {\n        display: inline-block;\n        color: #3b82f6;\n        margin-bottom: 16px;\n      }\n      .findoc-header h2 {\n        margin: 0 0 8px 0;\n        font-size: 24px;\n        font-weight: 600;\n        color: #1f2937;\n      }\n      .findoc-header p {\n        margin: 0;\n        color: #6b7280;\n        font-size: 14px;\n      }\n      .findoc-upload-area {\n        border: 2px dashed #d1d5db;\n        border-radius: 8px;\n        padding: 40px 20px;\n        text-align: center;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        margin-bottom: 20px;\n        background: #f9fafb;\n      }\n      .findoc-upload-area:hover {\n        border-color: #3b82f6;\n        background: #eff6ff;\n      }\n      .findoc-upload-area.dragover {\n        border-color: #3b82f6;\n        background: #dbeafe;\n        transform: scale(1.02);\n      }\n      .upload-label {\n        cursor: pointer;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 12px;\n      }\n      .upload-icon {\n        font-size: 48px;\n        opacity: 0.6;\n      }\n      .upload-text {\n        text-align: center;\n      }\n      .upload-text p {\n        margin: 0 0 4px 0;\n        font-size: 16px;\n      }\n      .upload-text strong {\n        color: #1f2937;\n        font-weight: 600;\n      }\n      .upload-text small {\n        color: #9ca3af;\n        font-size: 12px;\n      }\n      .findoc-files-list {\n        margin-bottom: 20px;\n      }\n      .findoc-files-list h3 {\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0 0 12px 0;\n        color: #1f2937;\n      }\n      #files-container {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n      }\n      .file-item {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 12px;\n        background: #f9fafb;\n        border-radius: 6px;\n        border: 1px solid #e5e7eb;\n        animation: slideIn 0.3s ease;\n      }\n      .file-info {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        flex: 1;\n        min-width: 0;\n      }\n      .file-icon {\n        font-size: 20px;\n        flex-shrink: 0;\n      }\n      .file-name {\n        font-size: 14px;\n        color: #1f2937;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .file-status {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        flex-shrink: 0;\n      }\n      .progress-bar {\n        width: 100px;\n        height: 6px;\n        background: #e5e7eb;\n        border-radius: 3px;\n        overflow: hidden;\n      }\n      .progress-fill {\n        height: 100%;\n        background: linear-gradient(90deg, #3b82f6, #2563eb);\n        transition: width 0.3s ease;\n        border-radius: 3px;\n      }\n      .status-icon {\n        font-size: 18px;\n      }\n      .status-text {\n        font-size: 13px;\n        color: #6b7280;\n        white-space: nowrap;\n      }\n      .findoc-actions {\n        display: flex;\n        gap: 12px;\n        justify-content: flex-end;\n      }\n      .btn-primary, .btn-secondary {\n        padding: 10px 20px;\n        border-radius: 6px;\n        font-size: 14px;\n        font-weight: 500;\n        cursor: pointer;\n        border: none;\n        transition: all 0.2s ease;\n        font-family: inherit;\n      }\n      .btn-primary {\n        background: #3b82f6;\n        color: white;\n      }\n      .btn-primary:hover:not(:disabled) {\n        background: #2563eb;\n        transform: translateY(-1px);\n        box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);\n      }\n      .btn-primary:active:not(:disabled) {\n        transform: translateY(0);\n      }\n      .btn-primary:disabled {\n        background: #d1d5db;\n        cursor: not-allowed;\n        opacity: 0.6;\n      }\n      .btn-secondary {\n        background: #f3f4f6;\n        color: #374151;\n        border: 1px solid #e5e7eb;\n      }\n      .btn-secondary:hover {\n        background: #e5e7eb;\n      }\n      .btn-secondary:active {\n        background: #d1d5db;\n      }\n      @keyframes slideIn {\n        from {\n          opacity: 0;\n          transform: translateY(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n      @media (max-width: 640px) {\n        .findoc-widget {\n          padding: 16px;\n        }\n        .findoc-header h2 {\n          font-size: 20px;\n        }\n        .findoc-upload-area {\n          padding: 30px 15px;\n        }\n        .progress-bar {\n          width: 60px;\n        }\n        .findoc-actions {\n          flex-direction: column;\n        }\n        .btn-primary, .btn-secondary {\n          width: 100%;\n        }\n      }\n    "}attachEventListeners(){const n=this.shadow.getElementById("file-input"),e=this.shadow.getElementById("upload-area"),r=this.shadow.getElementById("upload-btn"),t=this.shadow.getElementById("cancel-btn");n?.addEventListener("change",n=>{const e=n.target;e.files&&this.handleFiles(Array.from(e.files))}),e?.addEventListener("dragover",n=>{n.preventDefault(),e.classList.add("dragover")}),e?.addEventListener("dragleave",()=>{e.classList.remove("dragover")}),e?.addEventListener("drop",n=>{if(n.preventDefault(),e.classList.remove("dragover"),n.dataTransfer?.files){const e=Array.from(n.dataTransfer.files).filter(n=>"application/pdf"===n.type);this.handleFiles(e)}}),r?.addEventListener("click",()=>{this.processFiles()}),t?.addEventListener("click",()=>{this.reset()})}handleFiles(n){n.forEach(n=>{this.fileStatuses.set(n.name,{file:n,status:"pending",progress:0,message:"Pronto para processar"})}),this.renderFilesList(),this.updateUploadButton()}renderFilesList(){const n=this.shadow.getElementById("files-list"),e=this.shadow.getElementById("files-container");n&&e&&(this.fileStatuses.size>0?(n.style.display="block",e.innerHTML="",this.fileStatuses.forEach((n,r)=>{const t=this.createFileItem(r,n);e.appendChild(t)})):n.style.display="none")}createFileItem(n,e){const r=document.createElement("div");r.className="file-item",r.id=`file-${this.sanitizeFileName(n)}`;const t=this.getStatusIcon(e.status),a="uploading"===e.status||"processing"===e.status;return r.innerHTML=`\n      <div class="file-info">\n        <span class="file-icon">📄</span>\n        <span class="file-name" title="${n}">${n}</span>\n      </div>\n      <div class="file-status">\n        ${a?`\n          <div class="progress-bar">\n            <div class="progress-fill" style="width: ${e.progress}%"></div>\n          </div>\n        `:`\n          <span class="status-icon">${t}</span>\n        `}\n        <span class="status-text">${e.message}</span>\n      </div>\n    `,r}getStatusIcon(n){return{pending:"⏳",uploading:"⬆️",processing:"⚙️",completed:"✅",error:"❌"}[n]||"❓"}sanitizeFileName(n){return n.replace(/[^a-z0-9]/gi,"_")}updateUploadButton(){const n=this.shadow.getElementById("upload-btn");n&&(n.disabled=0===this.fileStatuses.size)}async processFiles(){if(!this.config||!this.apiClient)return void console.error("Widget não configurado! Chame .configure() primeiro.");const n=this.shadow.getElementById("upload-btn");n.disabled=!0,n.textContent="Processando...";for(const[n,e]of this.fileStatuses)"pending"===e.status&&await this.processFile(n,e);Array.from(this.fileStatuses.values()).every(n=>"completed"===n.status||"error"===n.status)&&(n.textContent="Concluído!",setTimeout(()=>{n.textContent="Processar arquivos",n.disabled=!1},2e3))}async processFile(n,e){if(this.apiClient&&this.config)try{this.updateFileStatus(n,"uploading",20,"Enviando arquivo...");const r=await this.apiClient.uploadPDF(e.file,this.config.clientId);e.analysisId=r,this.updateFileStatus(n,"processing",50,"Analisando com IA...");const t=await this.apiClient.pollForResult(r);this.updateFileStatus(n,"completed",100,"Análise concluída!"),e.result=t,this.config.onSuccess?.(t)}catch(r){const t=r instanceof Error?r.message:"Erro desconhecido";this.updateFileStatus(n,"error",0,t),e.error=t,this.config.onError?.(t)}}updateFileStatus(n,e,r,t){const a=this.fileStatuses.get(n);if(!a)return;a.status=e,a.progress=r,a.message=t,this.fileStatuses.set(n,a);const i=this.shadow.getElementById(`file-${this.sanitizeFileName(n)}`);if(i){const e=this.createFileItem(n,a);i.replaceWith(e)}this.config?.onProgress?.(n,r,t)}reset(){this.fileStatuses.clear(),this.renderFilesList();const n=this.shadow.getElementById("file-input");n&&(n.value="");const e=this.shadow.getElementById("upload-btn");e.disabled=!0,e.textContent="Processar arquivos"}}customElements.define("findoc-upload-widget",h);const B=h;return t.default})());
//# sourceMappingURL=findoc-widget.js.map